<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>

  <div>
    <button type="button" id="btn1">정보가져오기</button>
  </div>
  <table border="1">
    <tbody id="contents1"></tbody>
  </table>
  <script>
  
    // XML 데이터 요청
  
    const getData1 = ()=>{
      
      const options = {
        method: 'GET'
      }
      
      fetch('/servlet/getData1', options)
        /*.then((response)=>{
          if(response.ok){
            return response.text();
          }
        })*/
        .then(response=>response.text())
        .then(resData=>{
        	// String 타입 resData를 XML Document로 변경하기
          const domParser = new DOMParser();
          const xmlDoc = domParser.paseFromString(resData, 'application/xml');
          
          // <tbody id="contents1"></tbody>
          const contents1 = document.getElementById('content1');
          contents1.innerXML
          
          // <weather year="2024" month="03" day="04" hour="10">
          const weather = xmlDoc.getElementsByTagName('weather')[0]
          contents1.innerHTML = '';
          contents1.innerHTML += '<tr><td colspan="3">' 
          										+ weather.getAttribute('year') + '-' 
          										+ weather.getAttribute('month') + '-'
          										+ weather.getAttribute('day') + '&nbsp;'
          										+ weather.getAttribute('hour') + '시</td></tr>';
          
        })
    }
    
    document.getElementById("btn1").addEventListener('click', getData1);
  
  </script>
  
</body>
</html>